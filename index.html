<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Second task for Binary Studio Academy</title>
<link rel="stylesheet" type="text/css" href="reset.css">
</head>
<body>
<script>
//classes + inheritance + super
	class Fighter{
	constructor(name='anonymous', power=10, health=100){ //default parameters
		this.name=name;
		this.power=power;
		this.health=health;
	}

	setDamage(damage){
		this.health=this.health-damage;
		console.log(`суперник наніс удар на ${damage}, у ${this.name} залишилось ${this.health} життя`);
	}
	hit(enemy, point){
		enemy.setDamage(point*this.power);
	}
}
class ImprovedFighter extends Fighter{
	doubleHit(enemy,point){
		super.hit(enemy,point*2);
	}
}
let nameOfFighter=prompt('введіть імя першого гравця');
let fighter= new Fighter(nameOfFighter, 10, 1000); //block scoping (let)
let nameOfImprovedFighter=prompt('введіть імя другого гравця');
let improvedFighter= new ImprovedFighter(nameOfImprovedFighter, 10,1000);//block scoping (let)

let fight=(fighter, improvedFighter, ...point)=>{ //arrow function and  spread / rest 
	while(fighter.health>0&&improvedFighter.health>0){
	
	let i =Math.floor(Math.random()*(point.length));//random point for figther
	let k =Math.floor(Math.random()*(point.length));//random point for improvedfighter
	fighter.hit(improvedFighter, point[k]);
	improvedFighter.doubleHit(fighter,point[i]);
	}
	if (fighter.health>improvedFighter.health)
		console.log(`***********************
		${fighter.name} WON`);//string interpolation
	else console.log(`***********************
		${improvedFighter.name} WON`);//string interpolation
}


fight(fighter, improvedFighter, Math.floor(Math.random()*15), Math.floor(Math.random()*15),Math.floor(Math.random()*15),Math.floor(Math.random()*15),Math.floor(Math.random()*15));//randoms hits

</script>
</body>
</html>